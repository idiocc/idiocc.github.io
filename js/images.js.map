{
"version":3,
"file":"internal/js/images.js",
"lineCount":7,
"mappings":"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",
"sources":[" [synthetic:es6/util/arrayiterator] "," [synthetic:es6/util/makeiterator] "," [synthetic:es6/util/arrayfromiterable] "," [synthetic:es6/util/arrayfromiterator] ","src/js/images/make-io.js","src/js/images/webp.js","src/js/images/img.js","src/js/images/index.js"],
"sourcesContent":["/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility method for creating an iterator for Arrays.\n */\n'require base';\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {function():!IIterableResult<T>}\n * @template T\n */\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  };\n};\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {!Iterator<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  return /** @type {!Iterator<T>} */ ({next: $jscomp.arrayIteratorImpl(array)});\n};\n\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/util/arrayiterator';\n\n/**\n * Creates an iterator for the given iterable.  This iterator should never\n * be exposed to user code.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = typeof Symbol != 'undefined' && Symbol.iterator &&\n      (/** @type {?} */ (iterable)[Symbol.iterator]);\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require es6/util/makeiterator';\n'require es6/util/arrayfromiterator';\n\n\n/**\n * Copies the values from an Iterable into an Array.\n * @param {string|!Array<T>|!Iterable<T>|!Arguments} iterable\n * @return {!Array<T>}\n * @template T\n */\n$jscomp.arrayFromIterable = function(iterable) {\n  if (iterable instanceof Array) {\n    return iterable;\n  } else {\n    return $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n  }\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require base';\n\n\n/**\n * Copies the values from an Iterator into an Array. The important difference\n * between this and $jscomp.arrayFromIterable is that if the iterator's\n * next() method has already been called one or more times, this method returns\n * only the values that haven't been yielded yet.\n * @param {!Iterator<T>} iterator\n * @return {!Array<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.arrayFromIterator = function(iterator) {\n  var i;\n  var arr = [];\n  while (!(i = iterator.next()).done) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n","/**\n * Creates an intersection observer.\n */\nconst makeIo = (callback, options = { rootMargin: '50px' }) => {\n  const io = new IntersectionObserver((entries) => {\n    entries.forEach(({ target, isIntersecting }) => {\n      if (isIntersecting) {\n        io.unobserve(target)\n        callback(target)\n      }\n    })\n  }, options)\n  return io\n}\n\n\nexport default makeIo","import '../../components/potrace/externs'\nimport makeIo from './make-io'\n\nexport default function WEBP() {\n  const holders = [...document.querySelectorAll('img.ImageHolder')]\n  const io = makeIo(callback)\n\n  holders.forEach((holder) => {\n    io.observe(holder)\n  })\n}\n\n/**\n * When ImageHolder comes into view.\n * @param {Element} target\n */\nconst callback = (target) => {\n  const noscript = /** @type {!HTMLElement} */ (target.nextElementSibling)\n  if (noscript.tagName != 'NOSCRIPT') {\n    return console.warn('Sibling not a noscript')\n  }\n  const picture = document.createElement('picture')\n  target.parentElement.insertBefore(picture, target.nextSibling)\n  let st = ''\n  const html = noscript.textContent\n    .replace(/(<picture[^>]+?)style=\"([^\"]*?)\"/, (m, g, s) => {\n      st = s\n      return g\n    })\n    .replace(/<picture(\\s|>)/, `<picture style=\"${[st, 'display:none!important'].filter(Boolean).join(';')}\"$1`)\n\n  picture.outerHTML = html\n  noscript.parentElement.removeChild(noscript)\n}\n\n/**\n * The callback for when webp is loaded.\n * @param {HTMLImageElement} img\n */\nwindow['webploaded'] = (img) => {\n  const picture = /** @type {!HTMLPictureElement} */ (img.parentElement)\n\n  const svg = picture.previousElementSibling\n  let hasPotrace\n  if (!svg) {\n    hasPotrace = picture.hasPotrace\n  } else {\n    hasPotrace = svg.getAttribute('data-potrace') !== null\n    picture.hasPotrace = hasPotrace\n  }\n\n  const show = (s = 3500) => {\n    const svg1 = picture.previousElementSibling\n    if (svg1) svg1.parentElement.removeChild(svg1)\n    picture.style.cssText = picture.style.cssText.replace(/;?\\s*display:\\s*none\\s*!important;?$/, '')\n    picture.style.animation = picture.style.webkitAnimation = `_fadeIn ${s}ms ease-out`\n    return img\n  }\n\n  if (!hasPotrace) {\n    return show(1500)\n  }\n\n  /** @type {!Potrace} */\n  let potrace\n  if (svg) {\n    potrace = svg['potrace']\n    picture.potrace = potrace\n  } else {\n    potrace = picture.potrace\n  }\n\n  if (potrace) { // svg has been initialised\n    potrace.appearImg(show)\n  } else if (svg) {\n    svg['webp'] = {\n      show,\n    }\n  } else {\n    console.warn('svg was removed')\n  }\n}\n","import makeIo from './make-io'\n\n/**\n * Non-webp handling of images\n */\nexport default () => {\n  const imgTags = [\n    ...document.querySelectorAll('img[data-io]'),\n  ].filter(({ parentNode }) => {\n    return parentNode.tagName != 'PICTURE'\n  })\n  const images = [\n    ...document.querySelectorAll('picture[data-io]'),\n    ...imgTags,\n  ]\n  const io = makeIo(callback, { rootMargin: '76px' })\n  images.forEach((img) => {\n    img.removeAttribute('data-io')\n    io.observe(img)\n  })\n}\n\nconst supportsSrcSet = 'srcset' in document.createElement('img')\n\n/**\n * @param {Element} element\n */\nconst handleElement = (element, conf = {}) => {\n  const {\n    src = element.getAttribute('data-src'),\n    srcset = element.getAttribute('data-srcset'),\n  } = conf\n\n  element.removeAttribute('data-src')\n  element.removeAttribute('data-srcset')\n\n  if (element.src) { // hot-swap\n    const img = document.createElement('img')\n    assign(src, srcset, img)\n    img.onload = () => {\n      assign(src, srcset, element)\n    }\n  } else assign(src, srcset, element)\n}\n\nconst assign = (src, srcset, element) => {\n  if (src && (!supportsSrcSet || !srcset)) {\n    element.src = src\n  }\n  if (srcset && supportsSrcSet) {\n    element.srcset = srcset\n  }\n}\n\n/**\n * When the image is scrolled into view.\n * @param {!Element} target\n */\nconst callback = (target) => {\n  const next = target.nextElementSibling\n  if (next.tagName != 'NOSCRIPT') {\n    console.error('Expected noscript next.')\n    return\n  }\n  switch (target.tagName) {\n  case 'PICTURE': {\n    const sources = [...target.querySelectorAll('source'), target.querySelector('img')]\n    sources.forEach(handleElement)\n    break\n  }\n  case 'IMG': {\n    let src = /\\s+src=\"(.+?)\"/.exec(next.textContent)\n    src = src ? src[1] : undefined\n    let srcset = /\\s+srcset=\"(.+?)\"/.exec(next.textContent)\n    srcset = srcset ? srcset[1] : undefined\n\n    handleElement(target, { src, srcset })\n  }\n  }\n}","import WEBP from './webp'\nimport IMG from './img'\n\n// refresh placeholders with srcset\nwindow['SPLENDID_SVG_PLACEHOLDER'] = () => {\n  const svgs = [...document.querySelectorAll('.ImageHolder')]\n  svgs.forEach((svg) => {\n    const s = /width='(\\d+)'\\s+height='(\\d+)'/.exec(svg.src)\n    if (!s) return\n    const [,width, height] = s\n    const aspect = width / height\n    const noscript = svg.nextElementSibling\n    if (noscript.tagName != 'NOSCRIPT') return\n    let srcset = /<img[\\s\\S]*?\\ssrcset=\"([^\"]+)\"/.exec(noscript.textContent)\n    if (!srcset) return\n    [,srcset] = srcset\n    const widths = srcset.split(',').map((a) => {\n      let w = /\\s(\\d+)w$/.exec(a)\n      if (!w) return 0\n      ;[, w] = w\n      return w\n    })\n    const ss = widths.map((w) => {\n      const h = w / aspect\n      const sv = `<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'/>`\n      const bsv = btoa(sv)\n      const t = `data:image/svg+xml;base64,${bsv}`\n      const src = `${t} ${w}w`\n      return src\n    })\n    svg.srcset = ss.join(',')\n    // debugger\n  })\n}\n\nwindow['SPLENDID_SVG_PLACEHOLDER']()\n\nwindow['IO'] = IMG\nIMG()\n\nwindow['WEBP'] = WEBP\nWEBP()"],
"names":["$jscomp.arrayIteratorImpl","makeIo","callback","options","rootMargin","io","IntersectionObserver","entries","forEach","target","isIntersecting","unobserve","WEBP","holders","$jscomp.arrayFromIterable","document","querySelectorAll","holder","observe","noscript","nextElementSibling","tagName","console","warn","picture","createElement","parentElement","insertBefore","nextSibling","st","html","textContent","replace","m","g","s","filter","Boolean","join","outerHTML","removeChild","window","img","show","svg1","previousElementSibling","style","cssText","animation","webkitAnimation","svg","hasPotrace","getAttribute","potrace","appearImg","imgTags","parentNode","images","removeAttribute","supportsSrcSet","handleElement","element","conf","src","srcset","assign","onload","img.onload","next","error","sources","querySelector","exec","undefined","svgs","$jscomp.makeIterator","width","height","aspect","ss","split","map","widths","a","w","btoa","bsv","IMG"]
}
